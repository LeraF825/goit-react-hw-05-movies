"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[799],{4799:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(5861),c=n(9439),r=n(4687),i=n.n(r),o=n(2791),u=n(273),s=n(7689),l=n(1087),f=n(6983),_="Searchbar_form__D-hp5",m="Searchbar_labelInput__Ozr2Y",h="Searchbar_input__19umw",p="Searchbar_submit__IGhcJ",v=n(1578),d=n(184),g=function(e){var t=e.getMoviesFromInput,n=(0,o.useState)(""),a=(0,c.Z)(n,2),r=a[0],i=a[1],u=(0,o.useState)(1),s=(0,c.Z)(u,1)[0];return(0,d.jsxs)("form",{onClick:function(e){e.preventDefault(),""!==r.trim()&&t(r,s)},className:_,children:[(0,d.jsx)("label",{className:m,children:(0,d.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){i(e.target.value)},name:"searchInput",value:r,className:h})}),(0,d.jsx)("button",{type:"submit",className:p,children:(0,d.jsx)(v.YuR,{size:"1.5rem"})})]})},x="MoviesGallery_list__aM+SO",b="MoviesGallery_item__rY1Lr",y="MoviesGallery_link__0igYa",k=function(e){var t=e.movies,n=e.location,a=n.pathname+n.search;return(0,d.jsx)("div",{children:(0,d.jsx)("ul",{className:x,children:t.map((function(e){return(0,d.jsx)("li",{className:b,children:(0,d.jsx)(l.OL,{to:"".concat(e.id),state:{back:"".concat(a)},className:y,children:e.title})},e.id)}))})})},j=function(){var e=(0,o.useState)([]),t=(0,c.Z)(e,2),n=t[0],r=t[1],_=(0,s.TH)(),m=(0,o.useState)(!1),h=(0,c.Z)(m,2),p=h[0],v=h[1],x=(0,l.lr)(),b=(0,c.Z)(x,2),y=b[0],j=b[1],S=y.get("query");return(0,o.useEffect)((function(){S&&(0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,u.Ai)(S);case 4:t=e.sent,n=t.data,r(n.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()}),[S]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g,{getMoviesFromInput:function(e){j({query:e})}}),p&&(0,d.jsx)(f.a,{}),(0,d.jsx)(k,{movies:n,location:_})]})}},273:function(e,t,n){n.d(t,{Ai:function(){return o},Bt:function(){return l},KJ:function(){return i},Y5:function(){return u},y:function(){return s}});var a=n(1243),c="077542ca1acb186c550ac02d63fc7590",r="https://api.themoviedb.org/3",i=function(){return a.Z.get("".concat(r,"/trending/all/day?api_key=").concat(c))},o=function(e){return a.Z.get("".concat(r,"/search/movie?api_key=").concat(c,"&language=en-US&query=").concat(e))},u=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"?api_key=").concat(c))},s=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(c))},l=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"/reviews?api_key=").concat(c))}}}]);
//# sourceMappingURL=799.239fe5d5.chunk.js.map